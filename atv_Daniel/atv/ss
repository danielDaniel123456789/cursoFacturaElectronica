
<!DOCTYPE html>
<html lang="en">
<head>
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <title>Factura Profesional</title>
    <link rel="apple-touch-icon" sizes="57x57" href="images/iconos/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="images/iconos/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="images/iconos/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="images/iconos/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="images/iconos/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="images/iconos/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="images/iconos/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="images/iconos/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="images/iconos/apple-icon-180x180.png">
    <link rel="icon" type="image/png" sizes="192x192"  href="images/iconos/android-icon-192x192.png">
    <link rel="icon" type="image/png" sizes="32x32" href="images/iconos/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="96x96" href="images/iconos/favicon-96x96.png">
    <link rel="icon" type="image/png" sizes="16x16" href="images/iconos/favicon-16x16.png">
    <link rel="manifest" href="images/iconos/manifest.json">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="images/iconos/ms-icon-144x144.png">
    <meta name="theme-color" content="#ffffff">
    <meta name="description" content="overview &amp; stats"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0"/>
        <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
            j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
            'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
        })(window,document,'script','dataLayer',"GTM-TDZ69F8M");</script>
        <script type="application/javascript">
        (function(){
            sesion_check_alert_t=1800;
            sesion_check_logout_t=300;
        })();
    </script>
	<script>
		(function(){
			sessionFlagList=({"require_mail_empresa":false,"require_phone_empresa":false,"es_contador":false,"valid_clave":true,"valid_2fa":true,"memb_valid":true});
		})();
	</script>
        <link rel="stylesheet" href="assets/css/chosen.css"/>
<!-- bootstrap & fontawesome -->
<link rel="stylesheet" href="assets/css/bootstrap.min.css"/>
<link rel="stylesheet" href="assets/css/MyIcons.css?_1659980739"/>
<link rel="stylesheet" href="assets/css/fontawesome-all.min.css"/>
<link rel="stylesheet" href="assets/fontawesome-6.4.0/css/all.min.css"/>
<!-- page specific plugin styles -->
<link rel="stylesheet" href="assets/css/jquery-ui-1.10.3.full.min.css"/>
<!-- text fonts -->
<link rel="stylesheet" href="assets/css/ace-fonts.css"/>
<link rel="stylesheet" href="assets/css/glyphicons.css"/> <!-- glyphicons pro items -->
<!-- ace styles -->
<link rel="stylesheet" href="assets/css/ace.min.css" class="ace-main-stylesheet" id="main-ace-style"/>
<link rel="stylesheet" href="assets/css/password-mask.min.css"/>
<link rel="stylesheet" href="assets/css/diseno.min.css?_1746514308"/>
<link rel="stylesheet" href="assets/css/bootstrap-select.min.css"/>
<link rel="stylesheet" href="assets/Ajax-Bootstrap-Select/css/ajax-bootstrap-select.min.css"/>
<link rel="stylesheet" href="assets/css/bootstrap-switch.min.css">
<link rel="stylesheet" href="assets/css/bootstrap-multiselect.css">
<link rel="stylesheet" href="assets/css/selectize.bootstrap3.min.css">
<!--[if lte IE 9]>
<link rel="stylesheet" href="assets/css/ace-part2.css" class="ace-main-stylesheet"/>
<![endif]-->
<!--[if lte IE 9]>
<link rel="stylesheet" href="assets/css/ace-ie.css"/>
<![endif]-->
<link rel="stylesheet" href="assets/bootstrap-datepicker/css/bootstrap-datepicker3.min.css"/>
<link rel="stylesheet" type="text/css" href="assets/daterangepicker_3.0.5/daterangepicker.min.css" />
<link rel="stylesheet" href="assets/css/ace.onpage-help.css"/>
<link rel="stylesheet" href="assets/css/sweetalert2.min.css"/>
<link rel="stylesheet" href="assets/css/bootstrap-colorpicker.min.css"/>
<link rel="stylesheet" href="assets/css/bootstrap-treeview.min.css"/>
<link rel="stylesheet" href="assets/css/intlTelInput.css"/>
<link rel="stylesheet" href="assets/boostrap-tag/bootstrap-tagsinput.css"/>
<link rel="stylesheet" href="assets/cd_bar/cd_bar.min.css"/>
<link rel="stylesheet" href="assets/toastr_2.1.3/toastr.min.css">
<!-- inline styles related to this page -->
<!-- ace settings handler -->

<link rel="stylesheet" href="assets/css/jquery.gritter.min.css"/>
<!-- HTML5shiv and Respond.js for IE8 to support HTML5 elements and media queries -->
<!--[if lte IE 8]>
<script src="assets/js/html5shiv.js"></script>
<script src="assets/js/respond.js"></script>
<![endif]-->

<link rel="stylesheet" href="assets/fancyBoxV3.5.7/jquery.fancybox.css">
<style>
    .selectize-input {
        padding: 8px;
        min-height: 0;
    }

    .selectize-dropdown {
        padding: 10px;
        line-height: 10px;
    }
</style>
<script type="application/javascript">
    (function () {
        var recargar=function(otro_monto, evento=''){
            waitingDialog.show();
            var form = $('<form method="post">');
            form.attr('action', 'admin.php?action=verificar_pago_membresia');
            if (otro_monto > 0) {
                $('<input type="hidden" name="r">').val(otro_monto).appendTo(form);
            }
            evento=$.trim(evento);
            if(evento!==''){
                $('<input>', {
                    type: 'hidden',
                    name: 'e',
                    value: evento
                }).appendTo(form);
            }
            form.appendTo('body').submit();
            form.remove();
        };
        /**
         *
         * @param {string} ambiente
         * @param {integer} otro_monto
         * @param {string} evento
         */
        recargar_saldo = function (ambiente,otro_monto, evento='') {
            if(ambiente == 'system'){
                recargar(otro_monto, evento);
            }else{
                mensaje_swal('warning', 'En DEMO no se pueden realizar recargas.', '');
            }
        }
    })();
</script>
<script src="js/global.min.js?_=1696969902"></script>
<!-- basic scripts -->
<!--[if !IE]> -->
<script src="assets/js/ace-extra.js"></script>
<script type="text/javascript">
    window.jQuery || document.write("<script src='assets/js/jquery.js'>"+"<"+"/script>");
</script>
<!-- <![endif]-->
<script src="js/Date.relativePHP.min.js?_=1659980740"></script>
<script src="js/Date.relativePHPpicker.min.js?_=1659980740"></script>
<script src="js/SuperEvent_1.1.min.js"></script>
<script src="js/LocalWatcher.min.js?_=1659980740"></script>
<script src="js/jquery.onEventTimeout.min.js?_=1659980740"></script>
<script src="assets/jquery.hashClick.min.js?_=1738825312"></script>
<!--[if IE]>
<script type="text/javascript">
    window.jQuery || document.write("<script src='assets/js/jquery1x.js'>"+"<"+"/script>");
</script>
<![endif]-->
<script type="text/javascript">
    if('ontouchstart' in document.documentElement) document.write("<script src='assets/js/jquery.mobile.custom.js'>"+"<"+"/script>");
</script>
<script src="assets/js/bootstrap.js"></script>
<!-- page specific plugin scripts -->
<!--[if lte IE 8]>
<script src="assets/js/excanvas.js"></script>
<![endif]-->
<script src="js/jquery.serializeObject.min.js?_=1724445681"></script>
<script src="assets/js/jquery-ui.js"></script>
<script src="assets/js/jquery-ui.custom.js"></script>
<script src="assets/js/jquery.ui.touch-punch.js"></script>
<script src="assets/js/bootstrap-multiselect.js"></script>
<script src="assets/js/sifter.min.js"></script>
<script src="assets/js/microplugin.min.js"></script>
<script src="assets/js/selectize.min.js"></script>
<script src="assets/js/underscore.min.js"></script>
<script src="assets/js/moment-with-locales_2.29.1.min.js"></script>
<script src="assets/bootstrap-datepicker/js/bootstrap-datepicker.min.js"></script>
<script src="assets/bootstrap-datepicker/locales/bootstrap-datepicker.es.min.js"></script>
<script type="text/javascript" src="assets/daterangepicker_3.0.5/daterangepicker.min.js"></script>
<script src="assets/js/chosen.jquery.js"></script><script src="assets/js/fuelux/fuelux.wizard.js"></script>
<script src="assets/js/jquery.easypiechart.js"></script>
<script src="assets/js/jquery.sparkline.js"></script>
<script src="assets/js/flot/jquery.flot.js"></script>
<script src="assets/js/flot/jquery.flot.pie.js"></script>
<script src="assets/js/flot/jquery.flot.resize.js"></script>
<!-- ace scripts -->
<!-- ace scripts -->
<script type="text/javascript"> ace.vars['base'] = '..'; </script>
<script src="assets/js/jquery.maskedinput.min.js"></script>
<script src="assets/js/ace/elements.scroller.js"></script>
<script src="assets/js/ace/elements.colorpicker.js"></script>
<script src="assets/js/ace/elements.fileinput.js"></script>
<script src="assets/js/typeahead/bootstrap-typeahead.min.js"></script>
<script src="assets/js/ace/elements.wysiwyg.js"></script>
<script src="assets/js/ace/elements.spinner.js"></script>
<script src="assets/js/ace/elements.treeview.js"></script>
<script src="assets/js/ace/elements.wizard.js"></script>
<script src="assets/js/ace/elements.aside.js"></script>
<script src="assets/js/ace/elements.onpage-help.js"></script>
<script src="assets/js/ace/ace.js"></script>
<script src="assets/js/ace/ace.ajax-content.js"></script>
<script src="assets/js/ace/ace.touch-drag.js"></script>
<script src="assets/js/ace/ace.sidebar.js"></script>
<script src="assets/js/ace/ace.sidebar-scroll-1.js"></script>
<script src="assets/js/ace/ace.submenu-hover.js"></script>
<script src="assets/js/ace/ace.widget-box.js"></script>
<script src="assets/js/ace/ace.settings.js"></script>
<script src="assets/js/ace/ace.settings-rtl.js"></script>
<script src="assets/js/ace/ace.settings-skin.js"></script>
<script src="assets/js/ace/ace.widget-on-reload.js"></script>
<script src="assets/js/ace/ace.onpage-help.js"></script>
<script src="js/searchbox-autocomplete.js"></script>
<script src="assets/js/jquery.validate.min.js"></script>
<script src="assets/js/additional-methods.min.js"></script>
<script src="assets/js/localization/messages_es.js"></script>
<script src="assets/js/bootstrap-select.min.js"></script>
<script src="assets/Ajax-Bootstrap-Select/js/ajax-bootstrap-select.min.js"></script>
<script src="assets/Ajax-Bootstrap-Select/js/locale/ajax-bootstrap-select.es-ES.min.js"></script>
<script src="assets/js/sweetalert2.min.js"></script>
<script src="assets/js/bootbox.min.js"></script>
<script src="assets/js/esperando_2.min.js?_=1738825312"></script>
<script src="assets/js/bootstrap-switch.js"></script>
<script src="assets/js/numeral/numeral.min.js"></script>
<script src="assets/js/jquery-url.min.js"></script>
<script src="assets/js/bootstrap-colorpicker.min.js"></script>
<script src="assets/js/bootstrap-treeview.min.js"></script>

<script src="assets/js/intlTelInput.js"></script>
<script src="assets/js/utils.js"></script>
<script src="assets/js/jquery.gritter.js"></script>
<script src="assets/boostrap-tag/bootstrap-tagsinput.js"></script>
<script src="assets/cd_bar/cd_bar.min.js?_=1733960378"></script>
<script type="application/javascript" src="assets/toastr_2.1.3/toastr.min.js"></script>

<script src="js/onNodeRemoved.min.js?_=1.0"></script>
<script src="js/global_ui.min.js?_=1746514308"></script>
<script src="js/order_page.min.js?_=1659980740"></script>

<script src="assets/js/jquery.plugin.min.js"></script>
<script src="assets/fancyBoxV3.5.7/jquery.fancybox.js"></script>
<script src="assets/js/jscolor-2.0.5/jscolor.js"></script>
<script src="assets/js/jquery.inputlimiter.1.3.1.min.js"></script>
<script src="js/jquery.CtrlTabs.min.js?_=1677742734"></script>
<script src="assets/js/epos-2.24.0.min.js"></script>
<script src="js/ePOSPrinter.min.js?_=1689835111"></script>
<script src="assets/js/dexie.min.js?v=3.2.4"></script>
<script src="assets/js/GreCAPTCHAv2.min.js?_=1714431626"></script>
<script type="application/javascript" src="js/UtilityXML.min.js?_=1727332663"></script>
<script type="application/javascript" src="js/API_hacienda.min.js?_=1738825312"></script>
<script type="application/javascript" src="js/Hotkeys-1.0.0.min.js"></script>
<script type="application/javascript" src="assets/js/list-2.3.1/list.min.js"></script>
<script src="assets/js/TaskManager.min.js?_=1738825312"></script>
<script src="assets/js/static_hotkeys.min.js?_=1738825312"></script>
<script src="assets/js/hashdata.min.js"></script>
<script type="application/javascript">
    $.ajaxSetup({cache: true});
    (function(){
        var db=new Dexie('FPMain');
        db.version(0.3).stores({
            params: '&name',
            loginUser: '&user,date',
        });
        db.open().then(function(data){
        }, function(err){
            console.error(err);
        });
        window.FPMain=Object.assign(window.FPMain?window.FPMain:{}, {
            params: function(){
                return db.params;
            },
            getParam: function(name){
                return db.params.get({name: name}).then(function(data){
                    if(typeof data!=="object") return undefined;
                    return data.value;
                });
            },
            getParams: function(arrayNames){
                return db.params.where('name').anyOf(arrayNames).toArray().then(function(arr){
                    var res={};
                    foreach(arr, function(i, row){
                        res[row.name]=row.value;
                    });
                    return res;
                });
            },
            delParam: function(name){
                return db.params.delete(name);
            },
            setParam: function(name, value){
                return db.params.put({name: name, value: value});
            },
            getLoginUsers: function(){
                return db.loginUser.orderBy('date').toArray();
            },
            delLoginUser: function(user){
                return db.loginUser.delete(user);
            },
            updateLoginUser: function(user, data){
                data=Object.assign({date: Date.now()}, data);
                return db.loginUser.update(user, data);
            },
            setLoginUser: function(user, data){
                data=Object.assign({}, data);
                return this.updateLoginUser(user, data).then(function(done){
                    if(!done){
                        return db.loginUser.put(Object.assign(data, {user: user, date: Date.now()}));
                    }
                    return user;
                });
            },
        });
    })();
	(function(){
		setInterval(function(){
			if(CtrlTabs.lastReset() && (Date.now()-CtrlTabs.lastReset())>600e3) CtrlTabs.reload();
		}, 60e3);
		$(document).onEventTimeout(CtrlTabs.eventList.reload+' '+CtrlTabs.eventList.request+' '+CtrlTabs.eventList.report, function(event, data){
			if(!$.ajaxSettings.headers) $.ajaxSettings.headers={};
			$.ajaxSettings.headers['tab-count']=CtrlTabs.count();
		}, 300);
		var appName="admin.php";
		CtrlTabs.appName(appName);
		CtrlTabs.start();
	})();
</script><script type="application/javascript" src="js/ServAdicional/ServicioAdicional.min.js?_=1741847789"></script>
<script type="application/javascript">
    (function(){
        var contratos=[];
        contratos.push('GLOBAL_ADMIN');
        var acceso_articulo_unico=0;
        if(acceso_articulo_unico){
            contratos.push('ArticuloUnico');
        }
		var acceso_gastos=0;
		if(acceso_gastos){
			contratos.push(49);
		}
		var acceso_retenciones=0;
		if(acceso_retenciones){
			contratos.push(48);
		}
        $servAdicionales.loadContratos(contratos);
    })();
</script>
<script type="application/javascript">
	SERVER_DATETIME_ISO=("2025-05-13T21:49:30-06:00");
	DEFAULT_EXON_BASE=("subtotal");
	DATE_DGT_REQ_CABYS_ISO=("2020-12-01T00:05:00-06:00");
</script>
<script type="application/javascript">
	$(function(){
		var printerList=null;
		ePOSPrinter.defaultURLTest='admin.php?action=epos_printer&op=doc_test';
		ePOSPrinter.defaultSelector='#content_print';
		// ePOSPrinter.defaultPrinter='main';
		ePOSPrinter.FontList=["Averia Serif Libre","Bree Serif","DM Serif Text","IBM Plex Serif","Inria Serif","Instrument Serif","Noto Serif","PT Serif","PT Serif Caption","Roboto Serif","Source Serif 4","Source Serif Pro","IBM Plex Mono","Overpass Mono","Space Mono","Inconsolata","Open Sans","Fira Sans","IBM Plex Sans","Noto Sans","Source Sans Pro","Prompt","Carlito"];
		ePOSPrinter.PrinterListReset=function(){
			printerList=null;
		};
		ePOSPrinter.PrinterList=function(){
			if(printerList instanceof Promise){
				return printerList;
			}
			return (new Promise(function(success, error){
				$.ajax($.config_ajax_json({
					url: 'admin.php?action=epos_printer&op=lista',
				}, 'POST', {
					activo: true,
					sucursal: $('form#validate_login').serializeObject()['sess_sucursal'],
				}, {
					ajaxSilent: true,
					onAjaxJson: function(json){
						if(json.success){
							var list=[];
							$.each(json.data, function(i, e){
								e.printer=new ePOSPrinter(JSON.parse(e.config_epos));
								list.push(e);
							});
							success(list);
						}
					},
					onAjaxComplete: function(){
						error();
					}
				}));
			})).then(function(list){
				printerList=Promise.resolve(list);
				return list;
			});
		};
	});
</script>
<script type="application/javascript" src="js/ServAdicional/inventario.min.js?_=1708378403"></script>
<script type="application/javascript" src="js/ServAdicional/articuloUnico.min.js?_=1659980740"></script>
<script type="application/javascript" src="js/ServAdicional/documentoCompra.min.js?_=1746514308"></script>
<script type="application/javascript" src="js/ServAdicional/finanzas.min.js?_=1659980740"></script>
<script type="application/javascript" src="js/ServAdicional/liquidarVenta.min.js?_=1659980740"></script>
<script type="application/javascript" src="js/ServAdicional/gastos.min.js?_=1661963225"></script>
<script type="application/javascript" src="js/ServAdicional/retenciones.min.js?_=1660794281"></script>
<script type="application/javascript" src="js/ServAdicional/comision.min.js?_=1663905012"></script>
<script type="application/javascript" src="js/global_admin/global_admin.min.js?_=1746514308"></script>
<script src="assets/js/scripts/admin/admin.min.js?_=1738825312"></script>
	<script src="assets/js/scripts/admin/servicios.min.js?_=1713422600"></script><script type="application/javascript">
	$(function(){
		var cant_sin_leer=0;
		buzon_usuario.update_cant_buzon(cant_sin_leer);
	});
</script>
<script type="application/javascript" src="assets/js/hotkeys.min.js?_=1738825312"></script>
<script type="application/javascript">
	$(function(){
		_hotkeys.setHotkeys([]);
	});
</script>
    <style>
        body.modal-open { padding-right: 0px !important; } html { overflow-y: auto !important; }
        table.table>thead>tr>th, table.table>tbody>tr>th {  text-align: center;  }
    </style>
	</head>
<body class="no-skin">
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-TDZ69F8M" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<!-- #section:basics/navbar.layout -->
<div id="navbar" class="navbar navbar-default">
    <script type="text/javascript">
        try {
            ace.settings.check('navbar', 'fixed')
        } catch (e) {
        }
    </script>
    <div class="navbar-container" id="navbar-container">
        <!-- #section:basics/sidebar.mobile.toggle -->
                    <button type="button" class="navbar-toggle menu-toggler pull-left" id="menu-toggler" data-target="#sidebar">
                <span class="sr-only">Toggle sidebar</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
                    <!-- /section:basics/sidebar.mobile.toggle -->
        <div class="navbar-header pull-left">
            <!-- #section:basics/navbar.layout.brand -->
            <a href="admin.php" class="navbar-brand">
                <small>
                    Jessica Ballestero Ure&ntilde;a                </small>
            </a>
            <!-- /section:basics/navbar.layout.brand -->
            <!-- #section:basics/navbar.toggle -->
            <!-- /section:basics/navbar.toggle -->
        </div>
        <!-- #section:basics/navbar.dropdown -->
        <div class="navbar-buttons navbar-header pull-right" role="navigation">
            <ul class="nav ace-nav">
                <li class="blue dropdown-modal drop_modal_msj" onclick="global_admin.ver_prev_notificaciones();">
                    <a data-toggle="dropdown" data-backdrop="static" data-keyboard="false" id="drop_modal_msj" class="dropdown-toggle" href="#" aria-expanded="false">
                        <i class="ace-icon fa fa-bell add-tooltip" id="icon_bell_animated" title="Notificaciones"></i>
                        <span class="badge badge-important num_nfi" style="float: left;top: 10%;position: absolute;left: 50%;"></span>
                    </a>

                    <ul class="dropdown-menu-right dropdown-navbar dropdown-menu dropdown-caret dropdown-close nfi_ul">
                        <li class="dropdown-header">
                            Últimas notificaciones
                        </li>

                        <li class="dropdown-content" style="position: relative;">
							<ul class="dropdown-menu dropdown-navbar nfi_content" id="nfi_content"></ul>
						</li>

                        <li class="dropdown-footer">
                            <a href="#" onclick="global_admin.ver_notificaciones()">
                                Ir al buzón
                                <i class="ace-icon fa fa-arrow-right"></i>
                            </a>
                        </li>
                    </ul>
                </li>
                <li class="">
                    <a href="admin.php?action=cambia_empresa" onclick="waitingDialog.show()" class="add-tooltip" title="Cambiar de empresa, sucursal ó terminal">
						<i class="fa-solid fa-building ace-icon"></i>
						<i class="fa-solid fa-arrow-right-arrow-left mr-1"></i>
					</a>
                </li>
                <li class="light-blue">
                    <a data-toggle="dropdown" href="#" class="dropdown-toggle">
                        <i class="fa-solid fa-circle-user ace-icon pr-1"></i>
                        <span class="user-info">
                            <small>Usuario,</small>
                                                        <span id="info_usuario" data-id_version="60">jessicabu50@hotmail.com</span>
                        </span>
                    </a>
                    <ul class="user-menu dropdown-menu-right dropdown-menu dropdown-yellow dropdown-caret dropdown-close">
                        <li>
                            <a href="admin.php?action=perfil#perfil">
								<i class="fa-solid fa-circle-user"></i>&nbsp;Mi Perfil
                            </a>
                        </li>
                        <li>
                            <a href="admin.php?action=perfil#seguridad">
                                <i class="fa fa-shield-alt"></i>&nbsp;Seguridad
                            </a>
                        </li>
						<li class="divider"></li>
                        <li>
                            <a href="https://mycr.ws/FP-youtube" target="_blank">
								<i class="fa-brands fa-youtube"></i>&nbsp;Tutoriales
                            </a>
                        </li>
						<li>
							<a href="javascript:void(0)" onclick="adminNuevaCapacitacion()">
								<i class="fa-solid fa-chalkboard-user"></i>&nbsp;Capacitaciones
							</a>
						</li>
						<li>
							<a href="https://mycr.ws/FP-soporteRemoto" target="_blank">
								<i class="fas fa-headset"></i>&nbsp;Soporte
							</a>
						</li>
						<li class="divider"></li>
													<li>
								<a href="javascript:void(0)" onclick="login_demo()">
									<span class="ml-4">&nbsp;Ir a demo</span>
								</a>
							</li>
							<li class="divider"></li>
								                    						<li>
							<a id="version_app" href="#" onclick="ver_version();" data-id_version="60" data-version="25.05.01">
								<span class="ml-4">&nbsp;V 25.05.01</span>
							</a>
						</li>
                        <li class="divider"></li>
                        <li>
                            <a href="admin.php?action=desconectar">
								<i class="fa-solid fa-right-from-bracket"></i>&nbsp;Cerrar sesi&oacute;n
                            </a>
                        </li>
                    </ul>
                </li>
            </ul>
        </div>
        <!-- /section:basics/navbar.dropdown -->
        <form id="validate_login" class="hidden">
							<input type="hidden" name="app_version" value="25.05.01">
								<input type="hidden" name="sess_empresa" value="993">
								<input type="hidden" name="sess_sucursal" value="1">
								<input type="hidden" name="sess_terminal" value="1">
								<input type="hidden" name="sess_usuario" value="1005">
				        </form>
    </div>
    <!-- /.navbar-container -->
</div>
<!-- /section:basics/navbar.layout -->
<div class="main-container" id="main-container">
    <script type="text/javascript">
        try {
            ace.settings.check('main-container', 'fixed')
        } catch (e) {
        }
    </script>
    <!-- #section:basics/sidebar -->
            <div id="sidebar" class="sidebar responsive">
            <script type="text/javascript">
    try {
        ace.settings.check('sidebar', 'fixed')
    } catch (e) {
    }
</script>
<div class="sidebar-shortcuts" id="sidebar-shortcuts"></div><!-- #sidebar-shortcuts -->
<ul class="nav nav-list">
    <li>
        <a style="background-color:#daedf6;" href="admin.php?action=plan" onclick="waitingDialog.show();"><i class="fa-buffer fa-xl fab"></i><span class="menu-text"> <strong>Servicios adicionales</strong></span></a>
    </li>
	        <li class="">
        <a href="admin.php" onclick="waitingDialog.show();"><i class="fas fa-home"></i><span class="menu-text"> Inicio</span></a>
    </li>

        <li class="">
        <a href="admin.php?action=clientes" onclick="waitingDialog.show();"><i class="fas fa-users"></i><span class="menu-text"> Clientes </span></a>
    </li>

	
	<li class="open active">
		<a class="dropdown-toggle" href="#">
			<i class="fas fa-dolly-flatbed"></i>
			<span class="menu-text"> Art&iacute;culos / Servicios </span>
			<b class="arrow fa fa-angle-down"></b>
		</a>
		<b class="arrow"></b>
		<ul class="submenu" style="display:block;">

			
			<li class="active">
				<a href="admin.php?action=servicios" onclick="waitingDialog.show();"><span class="menu-text"> De Venta </span></a>
			</li>

						<li class="">
				<a href="admin.php?action=items_compra" onclick="waitingDialog.show();"><span class="menu-text"> De Compra</span></a>
			</li>

                        <li class="">
                <a href="admin.php?action=descuento_financiero" onclick="waitingDialog.show();"><span class="menu-text"> Dto. financiero</span></a>
            </li>
		</ul>
	</li>

		        <li class="">
            <a href="admin.php?action=ventas_4_3&modulo=proforma" onclick="waitingDialog.show();">
				<i class="fas fa-file"></i>
				<span class="menu-text"> Proforma</span>
				<span hotkey-action="proforma"></span>
			</a>
        </li>
                <li class="">
        <a class="dropdown-toggle" href="#">
            <i class="fas fa-cash-register"></i>
            <span class="menu-text"> Venta (facturar) </span>
            <b class="arrow fa fa-angle-down"></b>
        </a>
        <b class="arrow"></b>
        <ul class="submenu" style="display:none;">

                        <li class="">
                <a href="admin.php?action=ventas_4_3" onclick="waitingDialog.show();">
					<span class="menu-text">Por cliente</span>
					<span hotkey-action="venta"></span>
				</a>
            </li>

                        <li class="">
                <a href="admin.php?action=venta_programada" onclick="waitingDialog.show();"><span class="menu-text">Programada</span></a>
            </li>
				        	                </ul>
    </li>


    
    <li class="">
        <a class="dropdown-toggle" href="#">
            <i class="fas fa-cart-plus"></i>
            <span class="menu-text"> Compra </span>
            <b class="arrow fa fa-angle-down"></b>
        </a>
        <b class="arrow"></b>
        <ul class="submenu" style="display:none;">

            
            <li class="">
                <a href="admin.php?action=ventas_4_3&modulo=compra" onclick="waitingDialog.show();"><span class="menu-text">Régimen simplificado</span></a>
            </li>

            
            <li class="">
                <a href="admin.php?action=compras_exterior" onclick="waitingDialog.show();"><span class="menu-text">Del exterior</span></a>
            </li>
                    </ul>
    </li>

    	<li class="">
		<a class="dropdown-toggle" href="#">
			<i class="fas fa-file-import"></i>
			<span class="menu-text"></span>&nbsp;Recepci&oacute;n
			<b class="arrow fa fa-angle-down"></b>
		</a>
		<b class="arrow"></b>
		<ul class="submenu" style="display: none;">
			<li class="">
				<a href="admin.php?action=agregar_lote_recepcion" onclick="waitingDialog.show();">
					<i class="ace-icon fa fa-double-angle-right"></i>
					<span class="menu-text">Agregar</span>
				</a>
			</li>
			<li class="">
				<a href="admin.php?action=recepcion_documentos_pendientes" onclick="waitingDialog.show();">
					<i class="ace-icon fa fa-double-angle-right"></i>
					<span class="menu-text">Pendientes</span>
					<span hotkey-action="recepcion_pend"></span>
				</a>
			</li>
			<li class="">
				<a href="admin.php?action=recepcion_documentos" onclick="waitingDialog.show();">
					<i class="ace-icon fa fa-double-angle-right"></i>
					<span class="menu-text">Procesados</span>
				</a>
			</li>
		</ul>
	</li>

		<li class="">
		<a class="dropdown-toggle" href="#">
			<i class="fas fa-file-invoice"></i>
			<span class="menu-text"> Documentos </span>
			<b class="arrow fa fa-angle-down"></b>
		</a>
		<b class="arrow"></b>
		<ul class="submenu" style="display: none;">

						<li class="">
				<a href="admin.php?action=listado_proformas" onclick="waitingDialog.show();">
					<i class=" fa fa-double-angle-right"></i>
					Proformas
				</a>
			</li>

						<li class="">
				<a href="admin.php?action=listado_facturas&filtro=pendientes" onclick="waitingDialog.show();">
					<i class=" fa fa-double-angle-right"></i>
					Ventas Pendientes
				</a>
			</li>

						<li class="">
				<a href="admin.php?action=listado_facturas&filtro=pagadas" onclick="waitingDialog.show();">
					<i class=" fa fa-double-angle-right"></i>
					Ventas Pagadas
				</a>
			</li>

						<li class="">
				<a href="admin.php?action=listado_facturas&filtro=anuladas" onclick="waitingDialog.show();">
					<i class=" fa fa-double-angle-right"></i>
					Ventas Anuladas
				</a>
			</li>

						<li class="">
				<a href="admin.php?action=listado_facturas&lista=compras" onclick="waitingDialog.show();">
					<i class=" fa fa-double-angle-right"></i>
					Compras
				</a>
			</li>
						<li class="">
				<a href="admin.php?action=listado_facturas&lista=compras&filtro=anuladas" onclick="waitingDialog.show();">
					<i class=" fa fa-double-angle-right"></i>
					Compras Anuladas
				</a>
			</li>
						<li class="">
				<a href="admin.php?action=listado_notas&filtro=credito" onclick="waitingDialog.show();">
					<i class=" fa fa-double-angle-right"></i>
					Notas de Cr&eacute;dito
				</a>
			</li>

						<li class="">
				<a href="admin.php?action=listado_notas&filtro=debito" onclick="waitingDialog.show();">
					<i class=" fa fa-double-angle-right"></i>
					Notas de D&eacute;bito
				</a>
			</li>
		</ul>
	</li>

        <li class="">
        <a class="dropdown-toggle" href="#">
            <i class="far fa-chart-bar"></i>
            <span class="menu-text"> Reportes </span>
            <b class="arrow fa fa-angle-down"></b>
        </a>
        <b class="arrow"></b>
        <ul class="submenu" style="display: none;">
            <li class="">
                <a href="#" class="dropdown-toggle">
                    <i class="ace-icon fa fa-double-angle-right"></i>
                    <span class="menu-text">Ventas</span>
                    <b class="arrow fa fa-angle-down"></b>
                </a>
                <b class="arrow"></b>
                                <ul class="submenu nav-hide" style="display:none;">
                                        <li class="">
                        <a href="admin.php?action=reporte_ventas" onclick="waitingDialog.show();">
                            <i class="ace-icon fa fa-double-angle-right"></i>
                            <span class="menu-text">General</span>
                        </a>
                    </li>
                                        <li class="">
                        <a href="admin.php?action=reporte_ventas_detalles" onclick="waitingDialog.show();">
                            <i class="ace-icon fa fa-double-angle-right"></i>
                            <span class="menu-text">Por detalles</span>
                        </a>
                    </li>
                                        <li class="">
                        <a href="admin.php?action=reporte_movimientos" onclick="waitingDialog.show();">
                            <i class="ace-icon fa fa-double-angle-right"></i>
                            <span class="menu-text">Movimientos de pago</span>
                        </a>
                    </li>
                                        <li class="">
                        <a href="admin.php?action=reporte_pago" onclick="waitingDialog.show()">
                            <i class="ace-icon fa fa-double-angle-right"></i>
                            <span class="menu-text">Pagos reportados</span>
                        </a>
                    </li>
                                        <li class="">
                        <a href="admin.php?action=reporte_otros_cargos" onclick="waitingDialog.show()">
                            <i class="ace-icon fa fa-double-angle-right"></i>
                            <span class="menu-text">Otros cargos</span>
                        </a>
                    </li>
                </ul>
            </li>
            <li class="">
                <a href="#" class="dropdown-toggle">
                    <i class="ace-icon fa fa-double-angle-right"></i>
                    <span class="menu-text">Compras</span>
                    <b class="arrow fa fa-angle-down"></b>
                </a>
                <b class="arrow"></b>
                                <ul class="submenu nav-hide" style="display: none;">
                                        <li class="">
                        <a href="admin.php?action=reporte_gastos" onclick="waitingDialog.show();">
                            <i class="ace-icon fa fa-double-angle-right"></i>
                            <span class="menu-text">General</span>
                        </a>
                    </li>
                                        <li class="">
                        <a href="admin.php?action=reporte_gastos_detalles" onclick="waitingDialog.show();">
                            <i class="ace-icon fa fa-double-angle-right"></i>
                            <span class="menu-text">Por detalles</span>
                        </a>
                    </li>
                    <li class="hidden">
                        <a href="#" onclick="waitingDialog.show();">
                            <i class="ace-icon fa fa-double-angle-right"></i>
                            <span class="menu-text">Por producto / servicio</span>
                        </a>
                    </li>
                </ul>
            </li>
            <li class="">
                <a href="#" class="dropdown-toggle">
                    <i class="ace-icon fa fa-double-angle-right"></i>
                    <span class="menu-text">Tributarios</span>
                    <b class="arrow fa fa-angle-down"></b>
                </a>
                <b class="arrow"></b>
                                <ul class="submenu nav-hide" style="display: none;">
                                        <li class="">
                        <a href="admin.php?action=reporte_d_104"  onclick="waitingDialog.show();">
                            <i class="ace-icon fa fa-double-angle-right"></i>
                            <span class="menu-text">D-104 IVA</span>
                        </a>
                    </li>
                                        <li class="">
                        <a href="admin.php?action=reporte_d_125"  onclick="waitingDialog.show();">
                            <i class="ace-icon fa fa-double-angle-right"></i>
                            <span class="menu-text">D-125 Alquiler</span>
                        </a>
                    </li>
                                        <li class="">
                        <a href="admin.php?action=reporte_d_101"  onclick="waitingDialog.show();">
                            <i class="ace-icon fa fa-double-angle-right"></i>
                            <span class="menu-text">D-101 Renta</span>
                        </a>
                    </li>
                </ul>
            </li>
			
						<li class="">
				<a href="admin.php?action=auditoria_comprobantes" onclick="waitingDialog.show();">
					<i class="ace-icon fa fa-double-angle-right"></i>
					<span class="menu-text">Auditor&iacute;a</span></a>
			</li>
        </ul>
    </li>

        <li class="">
        <a class="dropdown-toggle" href="#">
            <i class=" fa fa-cogs"></i>
            <span class="menu-text"> Configuraci&oacute;n </span>
            <b class="arrow fa fa-angle-down"></b>
        </a>
        <b class="arrow"></b>
        <ul class="submenu" style="display: none;">

                        <li class="">
                <a href="admin.php?action=configuracion" onclick="waitingDialog.show();">
                    <i class="icon-double-angle-right"></i>Mi cuenta
                </a>
            </li>

                        <li class="">
                <a href="admin.php?action=plan" onclick="waitingDialog.show();">
                    <i class="icon-double-angle-right"></i>Plan y adicionales
                </a>
            </li>

                        <li class="">
                <a href="admin.php?action=estado_cuenta" onclick="waitingDialog.show();">
                    <i class="icon-double-angle-right"></i>Estado de cuenta
                </a>
            </li>

                        <li class="">
                <a href="admin.php?action=cuentas_bancarias" onclick="waitingDialog.show();">
                    <i class="icon-double-angle-right"></i>Cuentas Bancarias
                </a>
            </li>

                        <li class="">
                <a href="admin.php?action=config_parametros_ui" onclick="waitingDialog.show();">
                    <i class="icon-double-angle-right"></i>Interfaz/Impresi&oacute;n
                </a>
            </li>

            			<li class="">
				<a href="admin.php?action=config_recepcion" onclick="waitingDialog.show();">
					<i class="icon-double-angle-right"></i>Recepci&oacute;n Doc.
				</a>
			</li>

                        <li class="">
                <a href="admin.php?action=sucursales" onclick="waitingDialog.show();">
                    <i class="icon-double-angle-right"></i>Sucursales
                </a>
            </li>

                        <li class="">
                <a href="admin.php?action=usuarios" onclick="waitingDialog.show();">
                    <i class="icon-double-angle-right"></i>Usuarios
                </a>
            </li>
            			<li class="">
				<a href="admin.php?action=configuracion_factura_electronica" onclick="waitingDialog.show();">
					<i class="icon-double-angle-right"></i>Comprobantes Electr&oacute;nicos
				</a>
			</li>
	                    <li class=" hidden">
                <a href="admin.php?action=pos_device" onclick="waitingDialog.show();">
                    <i class="icon-double-angle-right"></i>Punto de venta
                </a>
            </li>
                    </ul>
    </li>

        <li class="">
        <a class="dropdown-toggle" href="#">
            <i class="fas fa-toolbox"></i>
            <span class="menu-text"> Herramientas </span>
            <b class="arrow fa fa-angle-down"></b>
        </a>
        <b class="arrow"></b>
        <ul class="submenu" style="display: none;">
                        <li class="">
                <a href="admin.php?action=importar_xml" onclick="waitingDialog.show();">
                    <i class="icon-double-angle-right"></i>Importaci&oacute;n de XML's
                </a>
            </li>
            <!--            <li class="--><?//=$class?><!--">-->
<!--                <a href="admin.php?action=identificacion_tributaria" onclick="waitingDialog.show();">-->
<!--                    <i class="icon-double-angle-right"></i>Identificaci&oacute;n tributaria-->
<!--                </a>-->
<!--            </li>-->
                        <li class="">
                <a href="admin.php?action=backup_doc" onclick="waitingDialog.show();">
                    Respaldo documentos
                </a>
            </li>
						<li class="">
				<a href="admin.php?action=backup_zip" onclick="waitingDialog.show();">
					Descargar Respaldos
				</a>
			</li>
                        <li class="">
                <a href="admin.php?action=calendario" onclick="waitingDialog.show();">
                    Calendario
                </a>
            </li>
						<li class="">
				<a href="admin.php?action=utility_xml" onclick="waitingDialog.show();">
					Lector de XML
				</a>
			</li>
        </ul>
    </li>
    <li>
        <a href="admin.php?action=desconectar" onclick="waitingDialog.show();"><i class="fas fa-sign-out-alt"></i><span class="menu-text"> Cerrar sesión</span></a>
    </li>
</ul><!-- /.nav-list -->        </div>
            <!-- /section:basics/sidebar -->
    <div class="main-content">
        <div class="main-content-inner">
            <!-- #section:basics/content.breadcrumbs -->
			<div class="breadcrumbs" id="breadcrumbs">
				<script type="text/javascript">
					try{
						ace.settings.check('breadcrumbs', 'fixed')
					}catch(e){
					}
				</script>
				<div class="container-fluid">
					<ul class="breadcrumb">
						<li>
							<i class="fas fa-home home-icon"></i>
							<a href="admin.php">Inicio</a>
						</li>
															<li>Art&iacute;culos / Servicios de venta</li>					</ul>
				</div>
				<!-- /.breadcrumb -->
				<!-- #section:basics/content.searchbox -->
				<div class="nav-search" id="nav-search">
					<div class="btn-group">
						<!--Salta la validación de la contraseña si debe ser cambiada y solo si el usuario es administrador-->
												<button onclick="_hotkeys.renderUI()" class="btn btn-link">
							Alt + Shift + A
							&nbsp;<i class="fa-solid fa-keyboard ace-icon"></i>
						</button>
					</div>
				</div>
				<!-- /.nav-search -->
				<!-- /section:basics/content.searchbox -->
			</div>
            <!-- /section:basics/content.breadcrumbs -->
            <div class="page-content">
                <div class="page-header">
                                            <h1>
                                                            Art&iacute;culos / Servicios de venta                                                        <small><i class="fa fa-angle-double-right"></i>&nbsp;</small>
                                                    </h1>
                                    </div>
                <!-- /.page-header -->
				                <div class="row">
                    <div class="col-xs-12">
                        <div id="dialog_edit_precios" class="modal" tabindex="-1" role="dialog" style="z-index:1051;">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
                <h4 class="modal-title"><span class="fa fa-edit"></span>&nbsp;Lista de precios</h4>
            </div>
            <div class="modal-body">
                <div class="row">
                    <div class="col-xs-12">
                                                    <div div_precio="1" class="div_precio form-group">
                                <label for=""><span txt_nombre_precio="1">Precio 1</span>:</label>
                                <div class="input-group">
                                    <div class="input-group-addon">
                                        <a change_moneda="1" href="javascript:void(0)" class="fa fa-exchange-alt"></a>
                                    </div>
                                    <div class="input-group-addon">
                                        <span txt_moneda="1"></span>
                                        <input type="hidden" moneda="1" value="">
                                    </div>
                                    <input title="" class="form-control" type="text" precio="1" placeholder="Sin Precio">
                                    <div class="input-group-btn">
                                        <div class="btn-group">
                                            <span title="Sin Precio" class="btn btn-white btn-danger add-tooltip"
                                                  onclick="$(this).closest('.div_precio').find('[precio]').val('').change()">
                                                <span class="fa fa-trash-alt"></span>
                                            </span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                                                        <div div_precio="2" class="div_precio form-group">
                                <label for=""><span txt_nombre_precio="2">Precio 2</span>:</label>
                                <div class="input-group">
                                    <div class="input-group-addon">
                                        <a change_moneda="2" href="javascript:void(0)" class="fa fa-exchange-alt"></a>
                                    </div>
                                    <div class="input-group-addon">
                                        <span txt_moneda="2"></span>
                                        <input type="hidden" moneda="2" value="">
                                    </div>
                                    <input title="" class="form-control" type="text" precio="2" placeholder="Sin Precio">
                                    <div class="input-group-btn">
                                        <div class="btn-group">
                                            <span title="Sin Precio" class="btn btn-white btn-danger add-tooltip"
                                                  onclick="$(this).closest('.div_precio').find('[precio]').val('').change()">
                                                <span class="fa fa-trash-alt"></span>
                                            </span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                                                        <div div_precio="3" class="div_precio form-group">
                                <label for=""><span txt_nombre_precio="3">Precio 3</span>:</label>
                                <div class="input-group">
                                    <div class="input-group-addon">
                                        <a change_moneda="3" href="javascript:void(0)" class="fa fa-exchange-alt"></a>
                                    </div>
                                    <div class="input-group-addon">
                                        <span txt_moneda="3"></span>
                                        <input type="hidden" moneda="3" value="">
                                    </div>
                                    <input title="" class="form-control" type="text" precio="3" placeholder="Sin Precio">
                                    <div class="input-group-btn">
                                        <div class="btn-group">
                                            <span title="Sin Precio" class="btn btn-white btn-danger add-tooltip"
                                                  onclick="$(this).closest('.div_precio').find('[precio]').val('').change()">
                                                <span class="fa fa-trash-alt"></span>
                                            </span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                                                        <div div_precio="4" class="div_precio form-group">
                                <label for=""><span txt_nombre_precio="4">Precio 4</span>:</label>
                                <div class="input-group">
                                    <div class="input-group-addon">
                                        <a change_moneda="4" href="javascript:void(0)" class="fa fa-exchange-alt"></a>
                                    </div>
                                    <div class="input-group-addon">
                                        <span txt_moneda="4"></span>
                                        <input type="hidden" moneda="4" value="">
                                    </div>
                                    <input title="" class="form-control" type="text" precio="4" placeholder="Sin Precio">
                                    <div class="input-group-btn">
                                        <div class="btn-group">
                                            <span title="Sin Precio" class="btn btn-white btn-danger add-tooltip"
                                                  onclick="$(this).closest('.div_precio').find('[precio]').val('').change()">
                                                <span class="fa fa-trash-alt"></span>
                                            </span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                                                        <div div_precio="5" class="div_precio form-group">
                                <label for=""><span txt_nombre_precio="5">Precio 5</span>:</label>
                                <div class="input-group">
                                    <div class="input-group-addon">
                                        <a change_moneda="5" href="javascript:void(0)" class="fa fa-exchange-alt"></a>
                                    </div>
                                    <div class="input-group-addon">
                                        <span txt_moneda="5"></span>
                                        <input type="hidden" moneda="5" value="">
                                    </div>
                                    <input title="" class="form-control" type="text" precio="5" placeholder="Sin Precio">
                                    <div class="input-group-btn">
                                        <div class="btn-group">
                                            <span title="Sin Precio" class="btn btn-white btn-danger add-tooltip"
                                                  onclick="$(this).closest('.div_precio').find('[precio]').val('').change()">
                                                <span class="fa fa-trash-alt"></span>
                                            </span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                                                </div>
                </div>
                <div class="alert alert-info">Clic en <i class="fa fa-exchange-alt"></i> para intercambiar la moneda entre CRC y USD</div>
            </div>
            <div class="modal-footer">
                <button type="button" button-aceptar class="btn btn btn-white btn-success"><i class="fa fa-check"></i>&nbsp;Aceptar</button>
                <button type="button" data-dismiss="modal" class="btn btn btn-white btn-danger"><i class="fa fa-times"></i>&nbsp;Cancelar</button>
            </div>
        </div>
    </div>
</div>
<script type="text/javascript">
    (function(){
        var dialog_edit_precios=$('#dialog_edit_precios');
        var input_precios,fn_submit;
        $.fn.edit_lista_precios=function(fn_success){
            "use strict";
            input_precios=$(this).closest('form').find('#lista_precios');
            fn_submit=fn_success;
            if(input_precios.length!=1 || !input_precios.is(':input')){
                dialog_edit_precios.modal('hide');
                return;
            }
            var input_moneda=input_precios.closest('form').find('#frm_moneda');
            var moneda_articulo=input_moneda.val();
            if(!moneda_articulo){
                moneda_articulo=input_moneda.data('default');
            }
            if(!moneda_articulo){
                moneda_articulo='CRC';
            }
            var lista=[];
            try {
                lista = JSON.parse(input_precios.val());
            }catch (e) {
            }
            dialog_edit_precios.find('[precio]').val('').trigger('change');
            dialog_edit_precios.find('[moneda]').val(moneda_articulo).trigger('change');
            $.each(lista,function(i,e){
                if(typeof e==='object' && e.precio && e.tipo){
                    dialog_edit_precios.find('[precio="'+e.tipo+'"]').val(e.precio).trigger('change');
                    dialog_edit_precios.find('[moneda="'+e.tipo+'"]').val(e.moneda).trigger('change');
                }
            });
            $.UIRefresh(true);
            dialog_edit_precios.modal('show');
        };
        dialog_edit_precios.find('[button-aceptar]').on('click',function(event){
            var lista=[];
            dialog_edit_precios.find('[precio]').each(function(i,e){
                e=$(e);
                e.trigger('change');
                if(e.val()!=''){
                    var tipo=e.attr('precio');
                    var moneda=dialog_edit_precios.find('[moneda="'+tipo+'"]');
                    lista.push({
                        tipo:tipo,
                        precio:e.val(),
                        moneda:moneda.val(),
                    });
                }
            });
            input_precios.val(JSON.stringify(lista));
            dialog_edit_precios.modal('hide');
            input_precios.closest('form').find('#count_lista_precios').text(lista.length);
            if(typeof fn_submit==='function') fn_submit();
        });
        dialog_edit_precios.find('[precio]').on('change',function(event){
            var val=calcNumber($(this).val(),5,0,null,-1);
            if(val==-1){
                val='';
            }
            $(this).val(val)
        });
        dialog_edit_precios.find('[moneda]').on('change',function(event){
            var moneda=$(this);
            var txt_moneda=moneda.closest('.input-group').find('[txt_moneda]');
            txt_moneda.text(moneda.val());
        });
        dialog_edit_precios.find('[change_moneda]').on('click',function(event){
            var change_moneda=$(this);
            var moneda=change_moneda.closest('.input-group').find('[moneda]');
            if(moneda.val()=='CRC'){
                moneda.val('USD');
            }
            else{
                moneda.val('CRC');
            }
            moneda.trigger('change');
        });
    })();
</script>

<form method="post" action="admin.php?action=servicios&op=nombre_precios" class="ajax_json" id="frm_edit_nombre_precios">
    <input type="hidden" name="id_empresa" value="993">
    <div id="dialog_edit_nombre_precios" class="modal" tabindex="-1" role="dialog">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                    <h4 class="modal-title"><span class="fa fa-edit"></span>&nbsp;Nombres de listas de precios</h4>
                </div>
                <div class="modal-body">
                    <div class="row">
                        <div class="col-xs-12">
                                                            <div div_nombre_precio="1" class="div_nombre_precio form-group">
                                    <label for="">Nombre de precio 1:</label>
                                    <div class="input-group">
                                        <input title="" class="form-control" type="text" name="nombre_precio[1]" nombre_precio="1" placeholder="Precio 1" value="" data-value="" autocomplete="off">
                                        <div class="input-group-btn">
                                            <div class="btn-group">
                                                <span title="Sin Nombre" class="btn btn-white btn-danger add-tooltip"
                                                      onclick="$(this).closest('.div_nombre_precio').find('[nombre_precio]').val('').change()">
                                                    <span class="fa fa-trash-alt"></span>
                                                </span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                                                <div div_nombre_precio="2" class="div_nombre_precio form-group">
                                    <label for="">Nombre de precio 2:</label>
                                    <div class="input-group">
                                        <input title="" class="form-control" type="text" name="nombre_precio[2]" nombre_precio="2" placeholder="Precio 2" value="" data-value="" autocomplete="off">
                                        <div class="input-group-btn">
                                            <div class="btn-group">
                                                <span title="Sin Nombre" class="btn btn-white btn-danger add-tooltip"
                                                      onclick="$(this).closest('.div_nombre_precio').find('[nombre_precio]').val('').change()">
                                                    <span class="fa fa-trash-alt"></span>
                                                </span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                                                <div div_nombre_precio="3" class="div_nombre_precio form-group">
                                    <label for="">Nombre de precio 3:</label>
                                    <div class="input-group">
                                        <input title="" class="form-control" type="text" name="nombre_precio[3]" nombre_precio="3" placeholder="Precio 3" value="" data-value="" autocomplete="off">
                                        <div class="input-group-btn">
                                            <div class="btn-group">
                                                <span title="Sin Nombre" class="btn btn-white btn-danger add-tooltip"
                                                      onclick="$(this).closest('.div_nombre_precio').find('[nombre_precio]').val('').change()">
                                                    <span class="fa fa-trash-alt"></span>
                                                </span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                                                <div div_nombre_precio="4" class="div_nombre_precio form-group">
                                    <label for="">Nombre de precio 4:</label>
                                    <div class="input-group">
                                        <input title="" class="form-control" type="text" name="nombre_precio[4]" nombre_precio="4" placeholder="Precio 4" value="" data-value="" autocomplete="off">
                                        <div class="input-group-btn">
                                            <div class="btn-group">
                                                <span title="Sin Nombre" class="btn btn-white btn-danger add-tooltip"
                                                      onclick="$(this).closest('.div_nombre_precio').find('[nombre_precio]').val('').change()">
                                                    <span class="fa fa-trash-alt"></span>
                                                </span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                                                <div div_nombre_precio="5" class="div_nombre_precio form-group">
                                    <label for="">Nombre de precio 5:</label>
                                    <div class="input-group">
                                        <input title="" class="form-control" type="text" name="nombre_precio[5]" nombre_precio="5" placeholder="Precio 5" value="" data-value="" autocomplete="off">
                                        <div class="input-group-btn">
                                            <div class="btn-group">
                                                <span title="Sin Nombre" class="btn btn-white btn-danger add-tooltip"
                                                      onclick="$(this).closest('.div_nombre_precio').find('[nombre_precio]').val('').change()">
                                                    <span class="fa fa-trash-alt"></span>
                                                </span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="submit" button-guardar class="btn btn btn-white btn-primary"><i class="fa fa-save"></i>&nbsp;Guardar</button>
                    <button type="button" data-dismiss="modal" class="btn btn btn-white btn-danger"><i class="fa fa-times"></i>&nbsp;Cancelar</button>
                </div>
            </div>
        </div>
    </div>
</form>
<script type="text/javascript">
    (function(){
        var frm_edit_nombre_precios=$('#frm_edit_nombre_precios');
        var dialog_edit_nombre_precios=$('#dialog_edit_nombre_precios');
        $.edit_nombre_precios=function(){
            "use strict";
            dialog_edit_nombre_precios.find('[nombre_precio]').each(function(i,e){
                $(e).val($(e).data('value'));
            });
            dialog_edit_nombre_precios.modal('show');
        };
        frm_edit_nombre_precios.on('ajax-json',function(event,json){
            if(json.success){
                dialog_edit_nombre_precios.find('[nombre_precio]').each(function(i,e){
                    e=$(e);
                    var nombre_precio=e.val();
                    var precio=e.attr('nombre_precio');
                    e.data('value',nombre_precio);
                    if(nombre_precio==''){
                        nombre_precio='Precio '+precio;
                    }
                    $('[txt_nombre_precio="'+precio+'"]').text(nombre_precio);
                });
                dialog_edit_nombre_precios.modal('hide');
            }
        });
    })();
</script>

    <div class="row">
        <div class="col-xs-12">
                            <button class="btn btn-white btn-warning mt-2 mt-sm-0" id="btn_importar" onclick="redireccionar('importar_servicios_v4_3_venta')">
                    <i class="fa fa-plus"></i>&nbsp;Importar Art&iacute;culos / Servicios
                </button>
                        <button class="btn btn-white btn-primary mt-2 mt-sm-0" id="btn_mostrar" onclick="global_admin.mantenimiento_servicios_venta('','agregar');">
                <i class="fa fa-plus"></i>&nbsp;Agregar Art&iacute;culo / Servicio
            </button>
                        <div class="btn-group mt-2 mt-sm-0" role="group">
                <a type="button" class="btn btn-primary btn-white dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    <i class="fa fa-angle-down"></i> Lista de precios
                </a>
                <ul class="dropdown-menu dropdown-menu-right">
                    <li class="dropdown-item">
                        <a href="javascript:void(0)" onclick="mensaje_swal('warning','Esta funcionalidad únicamente esta disponible en plan empresarial');">
                            <i class="fa fa-edit"></i> Editar nombres
                        </a>
                    </li>
                    <li class="dropdown-item">
                        <a href="javascript:void(0)" onclick="mensaje_swal('warning','Esta funcionalidad únicamente esta disponible en plan empresarial');">
                            <i class="fa fa-plus"></i> Importar precios
                        </a>
                    </li>
                </ul>
            </div>

            <div class="btn-group mt-2 mt-sm-0" role="group">
                <a type="button" class="btn btn-primary btn-white dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    <i class="fa fa-angle-down"></i> C&oacute;digo CABYS
                </a>
                <ul class="dropdown-menu dropdown-menu-right">
                    <li class="dropdown-item">
                        <a href="javascript:void(0)" onclick=" $.show_input_cabys();">
                            <i class="fa fa-edit"></i> Asignar c&oacute;digo
                        </a>
                    </li>
                    <li class="dropdown-item">
                        <a href="admin.php?action=servicios&filtro=sin_cabys" onclick="waitingDialog.show();">
                            <i class="fa fa-filter"></i> Sin c&oacute;digo
                        </a>
                    </li>
                </ul>
            </div>
                    </div>
    </div>
    
<div class="row" id="bloque_busqueda">
    <div class="col-xs-12">
        <form action="admin.php?action=servicios&op=busqueda" id="frm_buscar_articulos" name="frm_buscar_articulos" method="post" class="ajax_json" data-html-in="#resultado_listado_servicios" data-version_DGT="4.3">
                        <input type="hidden" id="page_size" name="page_size" value="15">
            <input type="hidden" id="page" name="page" value="">
            <input type="hidden" id="order_by" name="order_by" value="">
            <input type="hidden" id="order_type" name="order_type" value="">

                            <h4 class="header green">B&uacute;squeda</h4>
                <div id="frm_parametros1">
                    <div class="row">
                        <div class="col-sm-3 col-xs-12">
                            <label for="codigo">Código</label>
                            <div class="form-group">
                                <div class="form-group">
                                    <input type="text" name="filtro[codigo]" id="codigo" class="form-control" placeholder="Código" />
                                </div>
                            </div>
                        </div>
                        <div class="col-sm-3 col-xs-12">
                            <label for="nombre">Nombre</label>
                            <div class="form-group">
                                <div class="form-group">
                                    <input type="text" name="filtro[nombre]" id="nombre" class="form-control" placeholder="Nombre" />
                                </div>
                            </div>
                        </div>
                        <div class="col-sm-3 col-xs-12">
                            <label for="moneda">Moneda</label>
                            <div class="form-group">
                                <select name="filtro[moneda]" id="moneda" class="add-selectpicker wrap-text">
                                    <option value="" selected disabled>Seleccione una opción</option>
                                    <option value="CRC">CRC</option>
                                    <option value="USD">USD</option>
                                </select>
                            </div>
                        </div>
                        <div class="col-sm-3 col-xs-12">
                            <label for="gravamen">Gravamen</label>
                            <div class="form-group">
                                <select name="filtro[gravamen]" id="gravamen" class="add-selectpicker wrap-text">
                                    <option value="" selected disabled>Seleccione una opción</option>
                                    <option value="gravado">Gravado</option>
                                    <option value="exento">Exento</option>
                                </select>
                            </div>
                        </div>
                    </div>
                </div>

				<h5 class="header green">
					<span role="button" toggler="#frm_param_avanzado">
						Más opciones de búsqueda
						<i class="fas fa-chevron-down" toggle="hidden"></i>
						<i class="fas fa-chevron-up" toggle="shown" style="display: none;"></i>
					</span>
				</h5>
                <div id="frm_param_avanzado">
                    <div class="row">
                        <div class="col-sm-3 col-xs-12">
                            <label for="tipo_articulo">Tipo Art&iacute;culo / Servicio</label>
                            <div class="form-group">
                                <select name="filtro[tipo_articulo]" id="tipo_articulo" class="add-selectpicker wrap-text">
                                    <option value="" selected disabled>Seleccione una opción</option>
                                    <option value="servicio">Servicio</option>
                                    <option value="mercancia">Mercanc&iacute;a</option>
                                </select>
                            </div>
                        </div>
                        <div class="col-sm-3 col-xs-12">
                            <label for="estado">Estado</label>
                            <div class="form-group">
                                <select name="filtro[estado]" id="estado" class="add-selectpicker wrap-text">
                                    <option value="activo" selected>Activo</option>
                                    <option value="inactivo">Inactivo</option>
                                    <option value="ambos">Ambos</option>
                                </select>
                            </div>
                        </div>

                        <div class="col-sm-3 col-xs-12">
                            <label for="actividad">Actividad ecónomica</label>
                            <div class="form-group">
                                <select name="filtro[actividad]" id="actividad" class="add-selectpicker wrap-text">
                                    <option value="" selected disabled>Seleccione una opción</option>
                                    <option value="0">Sin Actividad</option>
                                                                            <option value="851902" data-subtext="851902">FISIOTERAPEUTA</option>
                                                                    </select>
                            </div>
                        </div>
                        <div class="col-sm-3 col-xs-12">
                            <label for="unidad">Unidad medida</label>
                            <div class="form-group">
                                <select name="filtro[unidad]" id="unidad" class="add-selectpicker wrap-text" data-live-search="true">
                                    <option value="" selected disabled>Seleccione una opción</option>
                                                                            <option value="87" data-subtext="Otros">Otros</option>
                                                                            <option value="1" data-subtext="Sp">Servicios Profesionales</option>
                                                                    </select>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="space-6"></div>
            
            <div class="row">
                <div class="col-xs-12 ">
                    <button type="button" class="btn btn-white btn-info" onclick="waitingDialog.show(); window.location.reload(1);">
                        <i class="fas fa-ban"></i>&nbsp;Limpiar
                    </button>
                    <button type="submit" id="btn_buscar_servicios" class="btn btn-white btn-purple">
                        <i class="fa fa-filter"></i>&nbsp;Filtrar
                    </button>
                </div>
            </div>
        </form>
    </div>
</div>
<div class="hr hr-18 dotted hr-double"></div>
<div id="resultado_listado_servicios">
    <div class="alert alert-info">
        cargando resultados...
    </div>
</div>
<script type="application/javascript">
    window.$codigos_repetidos = 'Ya se encuentra registrado un servicio con mismo Tipo C&oacute;digo y SKU / C&oacute;digo';
</script>
<script src="js/exportProcess.min.js?t=1700635582"></script>
<script type="text/html" id="tpl_cabys">
    <div class="row" id="cabys_guia_uso">
        <div class="col-xs-12">
            <div class="alert alert-info">
                <p>Conozca c&oacute;mo utilizar este buscador haciendo clic <a href="javascript:void(0)" onclick="ver_version('20.08.01');"><b>aqu&iacute;</b></a>, o podr&iacute;a tambi&eacute;n utilizar el del <a href="https://www.bccr.fi.cr/seccion-indicadores-economicos/cat%C3%A1logo-de-bienes-y-servicios" target="_blank"><b>BCCR</b></a> y copiar el c&oacute;digo cabys para guardarlo en factura profesional.</p>
                <p>En caso de no encontrar un código cabys para su artículo / servicio puede reportarlo a la dirección de correo electrónico <a href="mailto:cabys@hacienda.go.cr"><b>cabys@hacienda.go.cr</b></a>.</p>
            </div>
        </div>
    </div>
    <div class="row">
        <div class="col-xs-12" id="cabys_alert"></div>
    </div>
    <div class="row">
        <div class="col-xs-12">
            <form action="admin.php?action=util.cabys&op=busqueda" id="frm_cabys" name="frm_cabys" method="post" class="ajax_json ajax_lock" data-html-in="#result_list_cabys" data-loading-in="#result_list_cabys" data-loading-message="Cargando resultados...">
                <input type="hidden" id="page_size" name="page_size" value="15">
                <input type="hidden" id="page" name="page" value="">
                <input type="hidden" id="order_by" name="order_by" value="">
                <input type="hidden" id="order_type" name="order_type" value="">
                <h4 class="header green mt-0">B&uacute;squeda
                </h4>
                <div id="frm_parametros_cabys">
                    <div class="row">
                        <div class="col-sm-6 col-xs-12">
                            <label for="cabys_texto" id="lb_cabys_texto">Descripci&oacute;n</label>
                            <div class="form-group">
                                <input type="text" name="cabys[texto]" id="cabys_texto" class="form-control" placeholder="Descripci&oacute;n" charCount="3" maxlength="255"/>
                                <label>
                                    <input type="checkbox" name="cabys[producto]" id="cabys_producto" value="1" class="ace" checked>
                                    <span class="lbl"> Mostrar solo productos</span>
                                </label>
                            </div>
                        </div>
                        <div class="col-sm-6 col-xs-12">
                            <label for="cabys_codigo" id="lb_cabys_codigo">C&oacute;digo</label>
                            <div class="form-group">
                                <input type="number" name="cabys[codigo]" id="cabys_codigo" class="form-control" placeholder="C&oacute;digo" min="0"/>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="space-6"></div>
                <div class="row">
                    <div class="col-xs-12">
                        <button type="button" class="btn btn-white btn-info" onclick="var frm=$(this).closest('form'); frm.trigger('reset'); frm.submit()">
                            <i class="fas fa-ban"></i>&nbsp;Limpiar
                        </button>
                        <button type="submit" id="btn_buscar_cabys" class="btn btn-white btn-purple">
                            <i class="fa fa-filter"></i>&nbsp;Filtrar
                        </button>
                    </div>
                </div>
            </form>
        </div>
    </div>
    <div class="hr hr-18 dotted hr-double"></div>
    <div class="breadcrumb_cabys"></div>
    <div id="result_list_cabys">
        <div class="alert alert-info">
            cargando resultados...
        </div>
    </div>
</script>
<script type="text/javascript">
    (function() {
        var dialog=null;
        var form=$();
        var input_codigo=null;
        var input_texto=null;
        var input_producto=null;
        var breadcrumb=null;
        var submit=function(){
            form.find(':submit').click();
        };
        var config={};
        /**
         * @param cfg {object}
         **/
         $.cabys = function (cfg) {
            var alert=null;
            config = $.extend({}, {
                //Habilita un botón llamado "Ninguno"
                required:true,
                //Valor para pre-cargar un código en el buscador
                codigo: null,
                //Cuando se quiera asignar un mensaje al buscador
                msj: null,
                //Filtro para búsquedas por descripción basadas exclusivamente en Productos
                filter_prod: true,
                //Se ejecuta al seleccionar un Producto
                fn_ok: function () {
                },
                //Se ejecuta al precionar el botón de "Cancelar"
                fn_cancel: function () {
                },
                //Se ejecuta al precionar el botón "Ninguno"
                fn_none: function () {
                },
                //Se ejecuta al abrir el Bootbox del CABYS
                on_init: function () {
                },
            }, cfg);
            var cabys_bootbox='m_bootbox_CABYS';
            if($(`#${cabys_bootbox}`).length){
                return;
            }
            if(typeof config.msj === "string"){
                alert=$.make_alert(config.msj,null,false,null);
            }
            else if(typeof config.msj==="object" && config.msj){
                alert=config.msj;
            }
            if(typeof config.fn_ok!=='function'){
                config.fn_ok=function(data) {
                    console.log(data);
                };
            }
            if(typeof config.fn_cancel!=='function'){
                config.fn_cancel=function(){};
            }
            if(typeof config.fn_none!=='function'){
                config.fn_none=function(){};
            }
            if(typeof config.on_init!=='function'){
                config.on_init=function(){};
            }
            var html=$('#tpl_cabys').html();
            var buttons={};
            if (!config.required) {
                buttons.none = {
                    label: "<i class='fa fa-ban'></i>&nbsp;Ninguno",
                    className: "btn btn-white btn-warning",
                    callback: function () {
                        config.fn_none.apply(dialog,[]);
                    }
                };
            }
            buttons.Cerrar= {
                label: "<i class='fa fa-times'></i>&nbsp;Cerrar",
                    className: "btn btn-white btn-danger",
                    callback: function () {
                    config.fn_cancel.apply(dialog,[]);
                }
            };
            dialog = bootbox.dialog({
                show: false,
                title: "Catálogo bienes y servicios",
                message: html,
                buttons: buttons,
             });
            if(config.id_servicio || config.id_servicio_compra){
            	var es_compra=!config.id_servicio;
				$.cabys_servicios([(es_compra?config.id_servicio_compra:config.id_servicio)], es_compra, function(lista_codigos){
					var cabys_serv=lista_codigos[(config.id_servicio?config.id_servicio:config.id_servicio_compra)];
					if(typeof cabys_serv==="string" && $.trim(cabys_serv)!==''){
						$('<p>', {
							class: 'text-muted mt-2',
							html: '<span class="add-tooltip" title="Viene del código que actualmente tiene este artículo"><i class="fas fa-info-circle"></i></span>&nbsp;Sugerido&nbsp;'
						}).append(
							$('<a>', {
								href: 'javascript:void(0)',
								text: cabys_serv,
								click: function(){
									$.cabys_set_codigo({codigo: cabys_serv});
								}
							})
						).insertAfter(dialog.find('form').find('#cabys_codigo'));
					}
				});
			}
            dialog.init(function() {
                dialog.attr("id", cabys_bootbox);
                config.on_init.apply(dialog,[dialog]);
            });
            form=dialog.find('#frm_cabys');
            input_codigo=form.find('#cabys_codigo');
            input_texto=form.find('#cabys_texto');
            input_producto=form.find('#cabys_producto');
            breadcrumb=dialog.find('.breadcrumb_cabys');
            if(alert){
                dialog.find('#cabys_alert').html(alert);
            }
            if(!config.filter_prod){
                input_producto.parents('label').remove();
            }
            input_texto.on('input change valid_js',function () {
                var t=$(this);
                var minlenght=parseInt(t.attr('charCount'));
                var error='';
                var count=charCount($(this).val());
                if(count > 0 && count < minlenght){
                    error='Aumente la longitud del texto a '+minlenght+' caracteres como mínimo (actualmente, el texto tiene '+count+').';
                }
                this.setCustomValidity(error);
            });
            form.on('ajax-before',function(event,xhr){
                breadcrumb.html('');
            });
            form.on('ajax-json',function(event,json){
                if(typeof json['breadcrumb']==="string"){
                    breadcrumb.html(json['breadcrumb']);
                }
            });
            $.UIRefresh(1);
            dialog.modal('show');
            if(is_numeric(config.codigo)){
                input_codigo.val(config.codigo);
            }
            submit();
        };
        /**
         * Función encargada de setear el valor del código al buscador, además borra el texto
         * @param object cabys
         * @param exec_fn_ok
         */
        $.cabys_set_codigo=function(cabys,exec_fn_ok){
            if(typeof exec_fn_ok == "undefined"){
                exec_fn_ok=0;
            }
            if (typeof cabys !== "object" || !cabys) {
                return;
            }
            if (typeof cabys.codigo === "undefined") {
                return;
            }
            var fn_set_codigo=function(){
                if(input_codigo.val()!==cabys.codigo){
                    input_texto.val('');
                    input_texto.trigger('valid_js');
                    input_codigo.val(cabys.codigo);
                    submit();
                }
            };
            if(exec_fn_ok && parseInt(cabys.es_producto)){
                delete cabys.es_producto;
                config.fn_ok.apply(dialog,[cabys]);
                dialog.modal('hide');
                return;
            }
            fn_set_codigo();
        };

        $.cabys_html = function (cabys) {
            var html_main = $(`
                <div class="panel panel-info" id="">
                    <div class="panel-heading">Información de referencia CABYS</div>
                    <div class="panel-body">
                    </div>
                </div>`);

            var cabys = $.extend({}, {
                'codigo': '',
                'descripcion': '',
                'es_producto': 1,
                'es_gravado': 0,
                'impuesto': null,
				'es_medicamento': 0
            }, cabys);

            var html_body = $('<div>');

            $('<p>', {
                html: '<b>Descripción:&nbsp</b>' + cabys.descripcion
            }).appendTo(html_body);

            $('<p>', {
                html: '<b>Tarifa de IVA:&nbsp;</b>' + (parseInt(cabys.es_gravado) ? cabys.impuesto + '%' : 'Exento')
            }).appendTo(html_body);

			if(parseInt(cabys.es_medicamento)){
				$('<p>', {
					html: '<b>Corresponde a un medicamento.</b>'
				}).appendTo(html_body);
			}

            html_main.find('.panel-body').html(html_body.prop('outerHTML'));
            return html_main.prop('outerHTML');
        };

        $.cabys_sugerencia=function(codigo){
            codigo=String(codigo).trim();
            var fn_ok=function(sugerencias){
                var cfg=$.config_ajax_json('admin.php?action=util.cabys&op=sugerencia','POST',{
                    codigo: codigo,
                    sugerencias:sugerencias
                },{});
                $.ajax(cfg);
            };
            var fn_alter_input=function(){
                var confirmKeys=[9, 13, 32,44, 45, 46, 58, 59];
                var input=$(this);
                var tagComponet=input.tagsinput({
                    trimValue:true,
                    confirmKeys: confirmKeys,
                    maxChars:50,
                    onTagExists: function(item, $tag) {
                        $tag.hide().fadeIn();
                    }
                });
                var i_component=$(tagComponet[0].$input);
                i_component.on("paste",function(e) {
                    e.preventDefault();
                });
                i_component.addClass('form-control');
                input.on('itemAdded', function (e) {
                    var t=$(this);
                    var tag = e.item;
                    if (typeof tag === "string" && String(tag).toLowerCase() !== tag) {
                        t.tagsinput('remove', tag);
                        t.tagsinput('add', String(tag).toLowerCase());
                    }
                    if (typeof tag === "string") {
                        $.map(confirmKeys,function(codigo_signo){
                            var signo=String.fromCharCode(codigo_signo);
                            var regex=new RegExp('\\'+signo+'+');
                            var math=tag.match(regex);
                            if(math){
                                t.tagsinput('remove', tag);
                                t.tagsinput('add', String(tag).replace(regex,''));
                            }
                        });
                    }
                });
            };
            confirmar_input('Sugerir descripción', '<p>Producto cod. '+codigo+'</p><small>Ingrese palabras clave para vincular a la descripción original del producto, con el fin de que una vez aprobadas por Cyberfuel puedan ser utilizadas para encontrar este producto.</small>', 'select', {
                required: true,
                multiple:'multiple',
                data:{
                    role:'tagsinput'
                },
            }, fn_ok,null,fn_alter_input);
        };
    })();
</script>                    </div>
                    <!-- /.col -->
                </div>
                <!-- /.row -->
            </div>
            <!-- /.page-content -->
        </div>
    </div>
    <!-- /.main-content -->
    <div class="footer footer mt-5 mt-sm-0">
        <div class="footer-inner">
            <!-- #section:basics/footer -->
            <div class="footer-content">
                <span class="bigger-120">
                    &copy; 2015 - 2025                    <span class="blue bolder">Factura Profesional</span>.
                    Powered by <a href="https://www.cyberfuel.com" target="_blank">Cyberfuel</a>.
                    Secured by <a href="https://sectigo.com/trust-seal/" target="_blank">SECTIGO</a>.
                </span>
            </div>
            <!-- /section:basics/footer -->
        </div>
    </div>
    <a href="#" id="btn-scroll-up" class="btn-scroll-up btn btn-sm btn-inverse">
        <i class="fa fa-angle-double-up icon-only bigger-110"></i>
    </a>
</div>
<script type="application/javascript">
    $(function(){
        var id_version_app=$('#version_app').data('id_version');
        var id_last_version_user=$('#info_usuario').data('id_version');
        if(is_numeric(id_last_version_user) && is_numeric(id_version_app)){
            if(id_version_app!=id_last_version_user){
                ver_version();
            }
        }
    });
</script>
<script type="text/javascript">
    fn_ok = function() {
        "use strict";
        window.location.reload();
    };
    </script>
<script type="application/javascript">
	(function(){
		var es_agente=0;
		if(!es_agente){
			TaskManager.start();
		}
	})();
</script>
<script type="application/javascript">
	(function(){
		StaticHotkey.init_admin();
	})();
</script>
<script type="application/javascript">
	function adminNuevaCapacitacion(){
		$.ajax($.config_ajax_json('admin.php?action=nueva_capacitacion&op=solicitar', 'get', null, {
			onAjaxJson: function(json){
				if(json.success){
					var url=json.url;
					var hash=data2hash(json.data);
					window.open(url+'#frm#'+hash);
				}
			}
		}));
	}
</script>
<script>
window.dataLayer=window.dataLayer || [];
/*function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-72562585-3');*/
(function(i, s, o, g, r, a, m){
	i['GoogleAnalyticsObject']=r;
	i[r]=i[r] || function(){
		(i[r].q=i[r].q || []).push(arguments)
			}, i[r].l=1*new Date();
			a=s.createElement(o),
				m=s.getElementsByTagName(o)[0];
			a.async=1;
			a.src=g;
			m.parentNode.insertBefore(a, m)
		})(window, document, 'script', 'https://www.google-analytics.com/analytics.js', 'ga');
ga('create', 'UA-72562585-3', 'auto');
ga('send', 'pageview');
</script>
</body>
</html>